<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">

    <title>View all Employee</title>
</head>
<body>
<div class="container">
    <h1>All Employee Details</h1>
    <hr>
    
    <a class="btn btn-primary" href="/" role="button">Home</a>
    <a class="btn btn-primary" href="/add_emp" role="button">Add an Employee</a>
    <a class="btn btn-primary" href="/remove_emp" role="button">Remove an Employee</a>
    <a class="btn btn-primary" href="/filter_emp" role="button">Filter Employee Details</a>
    <hr>
    
    <hr>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Salary</th>
            <th scope="col">Bonus</th>
            <th scope="col">Phone Number</th>
            <th scope="col">Role</th>
            <th scope="col">Department</th>
            <th scope="col">Location</th>
            <th scope="col">Hire Date</th>
            <th scope="col">Actions</th> <!-- New column for Edit link -->
        </tr>
        </thead>
        <tbody>
        {% for emp in emps %}
        <tr>
            <th scope="row">{{ emp.id }}</th>
            <td>{{ emp.first_name }}</td>
            <td>{{ emp.last_name }}</td>
            <td>{{ emp.salary }}</td>
            <td>{{ emp.bonus }}</td>
            <td>{{ emp.phone }}</td>
            <td>{{ emp.role.name }}</td>
            <td>{{ emp.dept.name }}</td> <!-- Access department name -->
            <td>{{ emp.dept.location }}</td> <!-- Access department location -->
            <td>{{ emp.hire_date }}</td>
            <td><a href="{% url 'edit_emp' emp.id %}">Edit</a></td> <!-- Edit link -->
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<!-- Optional JavaScript; choose one of the two! -->

<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

<!-- jQuery Functionality -->
<script>
    $(document).ready(function () {
        // Check if the success message input field has a value
        var successMessage = $('#success_message').val();
        if (successMessage) {
            // If a success message exists, show it in an alert
            alert(successMessage);
        }
    });
</script>
</body>
</html>
